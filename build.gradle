buildscript {
    repositories {
        google()
       jcenter()
    }
    dependencies {
        classpath "com.android.tools.build:gradle:4.0.0"
    }
}

allprojects {
  repositories {
      google()
      jcenter()
  }
}

apply plugin: 'com.android.application'

android {
    compileSdkVersion = 28
    buildToolsVersion = "29.0.2"

    defaultConfig {
        applicationId = "me.ristovski.nativeactivity"

        minSdkVersion       10
        targetSdkVersion    28

        ndk {
            abiFilters "arm64-v8a"
        }

        externalNativeBuild {
            cmake {
                arguments   "-DANDROID_PLATFORM=android-P",
                            "-DANDROID_TOOLCHAIN=clang",
                            "-DANDROID_STL=c++_static"
            }
        }
    }

    lintOptions {
        checkReleaseBuilds false
    }

    buildTypes {
        release {
            minifyEnabled true
            proguardFiles getDefaultProguardFile("proguard-android.txt"),
                          "proguard-rules.pro"
        }
    }

    externalNativeBuild {
        cmake {
            path "src/main/CMakeLists.txt"
        }
    }
}